<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>C'√® sempre un motivo per non licenziarsi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px;
      background-color: #fefefe;
    }
    .frase {
      font-size: 1.5em;
      margin: 20px 0;
      min-height: 3em;
    }
    button {
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
      margin: 5px;
      border-radius: 8px;
      border: none;
    }
    #cuore {
      font-size: 2em;
      background-color: transparent;
      color: white;
      border: none;
      transition: transform 0.2s ease, color 0.3s ease;
    }
    #cuore:hover {
      transform: scale(1.2);
      color: #ff4081;
    }
    #cuore.clicked {
      animation: likePop 0.4s ease forwards;
      color: #ff4081;
    }
    #cuore.votato {
      color: #ff4081;
    }
    @keyframes likePop {
      0% { transform: scale(1); }
      50% { transform: scale(1.5); color: #ff4081; }
      100% { transform: scale(1); color: #ff4081; }
    }
    #counter {
      font-size: 1.2em;
      margin-left: 10px;
      color: #444;
    }
    form {
      margin-top: 50px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    form button {
      width: 100%;
      background-color: #0073aa;
      color: white;
    }
    #successo {
      text-align: center;
      font-size: 1.1em;
      margin-top: 20px;
      color: green;
      display: none;
    }
  </style>
</head>
<body>

  <h1>C'√® sempre un motivo per non licenziarsi</h1>

  <div class="frase" id="frase">Caricamento frase...</div>

  <button onclick="generaFrase()">Genera Frase</button>

  <div id="voti" style="margin-top: 20px;">
  <div id="condivisione" style="margin: 20px 0;">
    <p>Condividi questa frase:</p>
    <button onclick="condividiFrase()">üì§ Condividi</button>
  </div>
    <p>Ti piace questa frase?</p>
    <button id="cuore" onclick="votaFrase()">‚ù§Ô∏è</button>
    <span id="counter">0 voti</span>
  </div>

  <form id="suggerimentoForm">
    <h2>Hai una frase da suggerire?</h2>
    <label for="fraseSuggerita">Scrivila qui sotto:</label>
    <textarea name="frase" id="fraseSuggerita" rows="4" required></textarea>

    <button type="submit">Invia suggerimento</button>
    <div id="successo">‚úÖ Frase inviata con successo!</div>
  </form>

  <script>
    const frasi = ['Ricordati, hai un mutuo trentennale!', 'Lo stipendio non compra la felicit√†, ma paga le bollette!', 'Mollare tutto e aprire un chiringuito ai Caraibi √® un bel sogno‚Ä¶ peccato che manchino i Caraibi, il chiringuito e i soldi.', 'Se te ne vai, chi spiegher√† al nuovo assunto il nuovo progetto deprecato 2 anni fa?', 'Non lasciare il lavoro finch√© non hai un piano B‚Ä¶ e no, vincere alla lotteria non conta!', 'Ogni giorno √® una nuova opportunit√†‚Ä¶ di aggiornare il curriculum.', 'Lavorare qui √® difficile, ma trovare un nuovo lavoro lo √® di pi√π', 'Sei gi√† sopravvissuto finora, un altro giorno non ti uccider√†‚Ä¶ probabilmente.', 'Hai gi√† sopportato riunioni che potevano essere email, sei un eroe', 'Cambiare lavoro richiede sforzo, lamentarsi √® gratis', 'Ogni mese lo stipendio arriva, magari in ritardo, ma arriva', 'Dove vai? Hai la macchinetta del caff√® che ti capisce', 'Se resisti ancora un po‚Äô, potresti vincere il premio ‚Äúanzianit√† psicologica‚Äù', 'Hai gi√† imparato a ignorare le notifiche, un talento da non sprecare', 'Andarsene ora sarebbe un torto al tuo meme preferito del gruppo aziendale', 'Sei troppo vicino alla pensione‚Ä¶ mancano solo 28 anni', 'Chi ti sopporterebbe cos√¨ bene come il tuo PC aziendale?', 'Luned√¨ arriva comunque, tanto vale arrivarci con la scrivania gi√† pronta', 'Il badge lo hai, il coraggio di andartene ancora no', 'Il collega che russa in pausa pranzo ti mancherebbe', 'Lamentarsi fa parte del contratto, anche se in piccolo', 'Il tuo cassetto ha pi√π snack del bar qui vicino', 'Le ferie non si accumulano da sole, qualcuno dovr√† usarle', 'Il caos qui almeno √® prevedibile', 'La fotocopiatrice ti riconosce, √® quasi affetto', 'Ogni giorno una nuova sfida‚Ä¶ ad alzarsi dal letto', 'Il tuo sarcasmo √® patrimonio aziendale', 'L‚Äôaria condizionata √® sempre troppo o troppo poco, ma √® gratis', 'Dove lo ritrovi un parcheggio cos√¨ comodo?', 'Le scuse per arrivare in ritardo sono un‚Äôarte', 'Ogni collega pazzo √® un potenziale aneddoto da raccontare', 'Le videocall ti hanno allenato per il poker facciale', 'Lasciare il lavoro? E perdere la mensa aziendale?', 'Il microonde sa che sei tu anche senza badge', 'Sviluppi pazienza, resilienza e capacit√† di sopportazione', 'Hai imparato a fare tanto con poco, pure la dignit√†', 'Se resti abbastanza, diventi ‚Äúquello storico‚Äù', 'La scrivania √® tua, ci hai piantato le radici', 'Il capo a volte ti ignora‚Ä¶ ed √® bellissimo', 'La stampante funziona solo quando la usi tu', 'Sei sopravvissuto a tre cambi di direzione, sei leggenda', 'Il tuo livello di multitasking ha superato l‚Äôumano', 'Nessuno manda email passive-aggressive meglio di te', 'Hai fatto l‚Äôennesimo corso obbligatorio‚Ä¶ e vissuto per raccontarlo', 'Il tuo sarcasmo ha una fanbase silenziosa', 'Le battute da pausa caff√® tengono in piedi l‚Äôintero dipartimento', 'Il caos ti rende creativo, o almeno lo speri', 'La tua sedia ha ormai la tua forma, lasciarla sarebbe crudele', 'Dove altro puoi procrastinare con cos√¨ tanta efficienza?', 'Hai promesso di andartene‚Ä¶ ma solo il luned√¨ mattina'];

    let fraseAttuale = "";

    function generaFrase() {
      const indice = Math.floor(Math.random() * frasi.length);
      const frase = frasi[indice];
      fraseAttuale = frase;
      document.getElementById("frase").textContent = frase;

      const cuore = document.getElementById("cuore");
      cuore.classList.remove("clicked", "votato");

      const voto = localStorage.getItem("voto_" + frase);
      if (voto === "‚ù§Ô∏è") {
        cuore.classList.add("votato");
        cuore.disabled = true;
      } else {
        cuore.disabled = false;
        cuore.style.color = "white";
      }

      const count = localStorage.getItem("count_" + frase) || 0;
      document.getElementById("counter").textContent = `${count} voti`;
    }

    function votaFrase() {
      if (!fraseAttuale) return;
      const cuore = document.getElementById("cuore");
      cuore.disabled = true;
      cuore.classList.add("clicked", "votato");
      localStorage.setItem("voto_" + fraseAttuale, "‚ù§Ô∏è");

      const key = "count_" + fraseAttuale;
      const current = parseInt(localStorage.getItem(key) || "0");
      const newCount = current + 1;
      localStorage.setItem(key, newCount);
      document.getElementById("counter").textContent = `${newCount} voti`;
      alert("Grazie per il ‚ù§Ô∏è!");
    }

    document.getElementById("suggerimentoForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const frase = document.getElementById("fraseSuggerita").value;

      document.getElementById("successo").style.display = "block";
      document.getElementById("suggerimentoForm").reset();

      fetch("https://formsubmit.co/ajax/nildojauregui@gmail.com", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ frase }),
        mode: "no-cors"
      });
    });

    
    const urlParams = new URLSearchParams(window.location.search);
    const fraseParam = urlParams.get('frase');
    if (fraseParam) {
      fraseAttuale = decodeURIComponent(fraseParam);
      document.getElementById("frase").textContent = fraseAttuale;
    } else {
      generaFrase();
    }

    function condividiFrase() {
      const frase = encodeURIComponent(fraseAttuale);
      const link = `${window.location.origin}${window.location.pathname}?frase=${frase}`;
      navigator.clipboard.writeText(link).then(() => {
        alert("üîó Link copiato! Ora puoi incollarlo dove vuoi.");
      });
    }

  </script>

</body>
</html>
